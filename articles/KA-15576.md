---
title: "Property token of the page is not identified by Target VEC"
description: Description
solution: Target
product: Target
applies-to: "Target"
keywords: "KCS, property token, page, not identified, Target VEC, Adobe Target, at_property, window.targetPageParams function"
resolution: Resolution
internal-notes: 
bug: True
article-created-by: Jim Menn
article-created-date: "9/27/2022 4:08:29 AM"
article-published-by: Jim Menn
article-published-date: "9/27/2022 6:32:36 AM"
version-number: 3
article-number: KA-15576
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=32246c07-1a3e-ed11-9db1-0022480866ad"

---
# Property token of the page is not identified by Target VEC

## Description


<b>Environment</b>
 Adobe Target

<b>Issue</b>
 Target VEC is not able to recognize property token of the page correctly.

VEC displays warning message *No property token found on this page* while creating the activity.

<b>Cause</b>
<b>How is `at_property` used during "authoring" and "delivery"?</b>

<u>Authoring</u>:
 When a customer loads his page/SPA in VEC, VEC scans the page to find the `window.targetPageParams` function.
 If it finds this function, it will execute it and try to extract the `at_property` value, and based on this value, determine the workspace for this property.
 If VEC can't find this function or this function is missing, then VEC will default to the default workspace.

<u>Delivery</u>:
 During delivery Target edge doesn't consider where the `at_property` value is coming from. As long as the property value is passed in the request, it will work correctly.

<u>How does it work in Launch?</u>
 Having these two modes of operation outlined, it's necessary to explain what happens in Launch.
 In Launch, customers can add parameters to Launch actions in any way that they want, hence usually `at_property` is passed as a parameter to `Fire global mbox request`.
 This works great for delivery, however when loading the site in VEC, since there is no `window.targetPageParams`, VEC is not able to pickup the correct workspace.


## Resolution


<b>Workaround</b>
One way to get around this issue and make sure that VEC works as expected, is to ask customers to create a Launch custom code action that would define the `window.targetPageParams` function with `at_property`.

The customer would have to make sure that this action is executed right before loading the Target library or firing a global mbox request.

An alternative would be to adjust VEC so that there is native integration between VEC and Adobe Launch, but this would require proper scoping, and it will take more time to implement.

<u>Workaround Steps</u>:

1. Create a Launch custom code action that would define the `window.targetPageParams` function with `at_property`.


```
window.targetPageParams = function() {return {"at_property" : "%atproperty%"}; }
```


2. Also make sure that this action is executed right before loading the Target library or firing a global mbox request.

The above steps should ensure that VEC recognizes the property correctly while creating the activity.

![](http://omniture.custhelp.com/ci/inlineImage/get/3018176/a5a902ecd7ac849bb5bf0fa7e22e14e7)
