---
title: "Error when selecting Adobe Target as Cloud solution for IMS configuration"
description: Description
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS, Adobe Target,  IMS configuration, Experience Manager "
resolution: Resolution
internal-notes: 
bug: False
article-created-by: Zita Rodricks
article-created-date: "8/31/2023 5:52:22 PM"
article-published-by: Tanay Sharma .
article-published-date: "9/8/2023 4:05:38 PM"
version-number: 2
article-number: KA-22693
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=f23ed61f-2748-ee11-be6d-6045bd0061cb"

---
# Error when selecting Adobe Target as Cloud solution for IMS configuration

## Description {#description}


### Environment

AEM On-Premise

### Issue/Symptoms

Error while creating an Adobe Target IMS configuration in order to integrate AEM with Adobe Target.  However, whenever *Adobe Target* is selected as the Cloud solution for the IMS configuration, the error "`Cannot retrieve certificates: The Provided userId does not identify an existing user"` pops out, and the configuration cannot be created. This issue is only happening for the Adobe Target solution. .lf-progress { width: 100%; height: 4px; border-radius: 3px; cursor: pointer } .lf-progress:focus { outline: none; border: none } .lf-progress::-moz-range-track { cursor: pointer; background: none; border: none; outline: none } .lf-progress::-webkit-slider-thumb { height: 13px; width: 13px; border: 0; border-radius: 50%; background: rgba(15, 204, 206, 1); cursor: pointer } .lf-progress::-moz-range-thumb { height: 13px; width: 13px; border: 0; border-radius: 50%; background: rgba(15, 204, 206, 1); cursor: pointer } .lf-progress::-ms-track { width: 100%; height: 3px; cursor: pointer; background: rgba(0, 0, 0, 0); border-color: rgba(0, 0, 0, 0); color: rgba(0, 0, 0, 0) } .lf-progress::-ms-fill-lower { background: rgba(204, 204, 204, 1); border-radius: 3px } .lf-progress::-ms-fill-upper { background: rgba(204, 204, 204, 1); border-radius: 3px } .lf-progress::-ms-thumb { border: 0; height: 15px; width: 15px; border-radius: 50%; background: rgba(15, 204, 206, 1); cursor: pointer } .lf-progress:focus::-ms-fill-lower { background: rgba(204, 204, 204, 1) } .lf-progress:focus::-ms-fill-upper { background: rgba(204, 204, 204, 1) } .lf-player-container :focus { outline: 0 } .lf-popover { position: relative } .lf-popover-content { display: inline-block; position: absolute; opacity: 1; visibility: visible; transform: translate(0, -10px); box-shadow: 0 2px 5px rgba(0, 0, 0, 0.26); transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97) } .lf-popover-content.hidden { opacity: 0; visibility: hidden; transform: translate(0, 0) } .lf-player-btn-container { display: flex; align-items: center } .lf-player-btn { cursor: pointer; width: 14px } .lf-player-btn.active { } .lf-popover { position: relative } .lf-popover-content { display: inline-block; position: absolute; background-color: rgba(255, 255, 255, 1); opacity: 1; transform: translate(0, -10px); box-shadow: 0 2px 5px rgba(0, 0, 0, 0.26); transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97); padding: 10px } .lf-popover-content.hidden { opacity: 0; visibility: hidden; transform: translate(0, 0) } .lf-arrow { position: absolute; z-index: -1; content: ""; bottom: -9px; border-style: solid; border-width: 10px 10px 0 } .lf-left-align, .lf-left-align .lfarrow { left: 0; right: unset } .lf-right-align, .lf-right-align .lf-arrow { right: 0; left: unset } .lf-text-input { border: 1px solid rgba(204, 204, 204, 1); border-radius: 5px; padding: 3px; width: 60px; margin: 0 } .lf-color-picker { display: flex; flex-direction: row; justify-content: space-between; height: 90px } .lf-color-selectors { display: flex; flex-direction: column; justify-content: space-between } .lf-color-component { display: flex; flex-direction: row; font-size: 12px; align-items: center; justify-content: center } .lf-color-component strong { width: 40px } .lf-color-component input`[` type="range"`]`  { margin: 0 0 0 10px } .lf-color-component input`[` type="number"`]`  { width: 50px; margin: 0 0 0 10px } .lf-color-preview { font-size: 12px; display: flex; flex-direction: column; align-items: center; justify-content: space-between; padding-left: 5px } .lf-preview { height: 60px; width: 60px } .lf-popover-snapshot { width: 150px } .lf-popover-snapshot h5 { margin: 5px 0 10px; font-size: 0.75rem } .lf-popover-snapshot a { display: block; text-decoration: none } .lf-popover-snapshot a:before { content: "⥼"; margin-right: 5px } .lf-popover-snapshot .lf-note { display: block; margin-top: 10px; color: rgba(153, 153, 153, 1) } .lf-player-controls>div { margin-right: 5px; margin-left: 5px } .lf-player-controls>div:first-child { margin-left: 0 } .lf-player-controls>div:last-child { margin-right: 0 } .go4109123758 { z-index: 9999 } .go4109123758>\* { pointer-events: auto }








## Resolution {#resolution}


- Select <b>Tools</b> `>`  <b>Security</b> `>`  <b>IMS configs </b>`>`  <b>Create</b>.


- Select <b>Target</b> as the solution.


An error will pop up in the UI `"Cannot retrieve certificate. The provided userid does not identify an existing user."` In the logs the only error related to this issue is `[` 1`]` .

`[` 1`]`  `/libs/cq/adobeims-configuration/content/configurations/createimsconfig/contextCertificates HTTP/1.1]  com.adobe.cq.adobeims.impl.servlets.GetCertificatesServlet Cannot retrieve certificates: The provided userId does not identify an existing user.}` `[` 1`]`  Path: `/home/users/system/target-imsconfig-service` Permission: allow Privileges: jcr:read; rep:write
<br>Cause<br>
The error is caused by a lack of permissions for the target-imsconfig-service user. When checking the permissions for the users "target-imsconfig-service" and "targetservice" it was noticed that target-imsconfig-service had no ACEs assigned. After adding the ACEs `[` 1`]`  to the user, the IMS configuration for Adobe Target could be successfully created.
