---
title: "Unable to use/query against DM delivery output file names"
description: "Learn how to extract the outputFile \"see attachment(mData_outputFile.png) for location\" from the mdata field."
solution: Campaign
product: Campaign
applies-to: "Campaign Classic,Campaign,Campaign Standard"
keywords: "KCS - Unable to use/query against DM delivery output file names"
resolution: Resolution
internal-notes: 
bug: False
article-created-by: Tanay Sharma .
article-created-date: "5/2/2024 12:58:39 PM"
article-published-by: Tanay Sharma .
article-published-date: "5/2/2024 1:11:18 PM"
version-number: 5
article-number: KA-16234
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=9bc4d0b0-8308-ef11-9f8a-6045bd026dc7"

---
# Unable to use/query against DM delivery output file names

## Description {#description}


### Environment

- Campaign Classic
- Campaign
- Campaign Standard


### Issue/Symptoms

From mdata field, you want to extract the outputFile name--see attachment(mData_outputFile.png) for location, stored within outputFile=" ". You want to know the best way to transform this *XML data* type field to be passed as an enriched field within the campaign workflow. So that you can append into your promotion history table to store all the output file names.

 Since mdata is an XML field and not a DB field to query upon it, is there any method to achieve this scenario?




## Resolution {#resolution}


You can try to resolve this issue in two ways:

1. Use a file extract activity to extract the delivery data in *XML* format. This will ensure that the `mdata` is also extracted. After that, you can use a load file activity or JavaScript (*JS code)* activity to parse that file and get your data.
2. Use a *JS code* activity and `queryDef` to fetch `mdata` of your delivery and then parse the XML. Store data in an <b>instance variable</b> to then load in transition.


Scenario 2:

You are trying to use the method of `queryDef` against `mdata`, which you were able to write. For the parse method, what is the recommended approach?

Your request will be like:

*`<` queryDef operation="select" schema="nms:delivery"`>`*

*`<` select`>`*

*`<` node expr="@id"/`>`*

*`<` node expr="`[` output/@fileName`]` " label="Output file"/`>`*

*`<` /select`>`*

*`<` sysFilter`>`*

*`<` condition expr="@isModel = 0"/`>`*

*`<` /sysFilter`>`*

*`<` orderBy`>`*

*`<` node expr="@lastModified" sortDesc="true"/`>`*

*`<` /orderBy`>`*

*`<` /queryDef`>`*



And it will return:

*`<` delivery-collection`>`*

*`<` delivery id="11878415"`>`*

*`<` output filename=”abc.txt”`>`*

*`<` /output`>`*

*`<` /delivery`>`*

*`<` /delivery-collection`>`*
