---
title: "Experience Manager - Web Tier pipeline execution failing during TestCacheInvalidation"
description: Description
solution: Experience Manager as a Cloud Service
product: Experience Manager as a Cloud Service
applies-to: "Experience Manager as a Cloud Service"
keywords: "KCS, TestCacheInvalidation, web tier, aem, cloud, vhost, x-vhost, troubleshooting, Experience Manager, pipeline execution failing, fail"
resolution: Resolution
internal-notes: "answer found in https://dmasupport.slack.com/archives/C013SBSHPKK/p1645102872540889?thread_ts=1645102277.855389&cid=C013SBSHPKK"
bug: False
article-created-by: Jim Menn
article-created-date: "5/26/2023 6:37:16 AM"
article-published-by: Jim Menn
article-published-date: "5/26/2023 6:42:01 AM"
version-number: 3
article-number: KA-19052
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=29aca2bb-8ffb-ed11-8849-6045bd0065b6"

---
# Experience Manager - Web Tier pipeline execution failing during TestCacheInvalidation

## Description {#description}

<br>Issue<br><br>
The Web Tier pipeline execution fails with error below in log file:

=== RUN TestCacheInvalidation
 main_test.go:237: Test fails. Expected header 'X-Vhost' to be existing and not: 'catch-all', got: 'catch-all'
 --- FAIL: TestCacheInvalidation (0.00s)
 FAIL
 exit status 1
<br><br>Environment<br><br>
Experience Manager as a Cloud Service


## Resolution {#resolution}


<b>Steps to Resolve</b>

- Confirm that your dispatcher configuration includes a vhost for dispatcher cache invalidation (call being done to host 127.0.0.1), e.g., as in [https://github.com/adobe/aem-project-archetype/blob/master/src/main/archetype/dispatcher.cloud/src/conf.d/available_vhosts/default.vhost#L24](https://github.com/adobe/aem-project-archetype/blob/master/src/main/archetype/dispatcher.cloud/src/conf.d/available_vhosts/default.vhost#L24)
- If you have an X-Vhost header, make sure that it is not empty and that the request does not reach catch-all vhost with the X-Vhost header set to "*catch-all*", as in [https://github.com/adobe/aem-project-archetype/blob/master/src/main/archetype/dispatcher.cloud/src/conf.d/dispatcher_vhost.conf#L136](https://github.com/adobe/aem-project-archetype/blob/master/src/main/archetype/dispatcher.cloud/src/conf.d/dispatcher_vhost.conf#L136)

