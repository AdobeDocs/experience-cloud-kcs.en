---
title: AEP - SFTP source connector fails connecting with the provided authentication credentials using SSH key
description: Description
solution: Experience Platform
product: Experience Platform
applies-to: Experience Platform
keywords: KCS, AEP, source, SFTP, SSH, base64, openSSH
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Delia Gheonea
article-created-date: 7/6/2022 8:52:16 AM
article-published-by: Delia Gheonea
article-published-date: 7/6/2022 8:55:27 AM
version-number: 3
article-number: KA-19495
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ad9808ea-08fd-ec11-82e5-000d3a3b090d
exl-id: e10d5918-3942-4f84-aceb-68b4e3364f39
---
# AEP - SFTP source connector fails connecting with the provided authentication credentials using SSH key

## Description

You are trying to set up and SFTP source connector within AEP. The SFTP source connector fails connecting with the provided authentication credentials using SSH key.<br><br>You may be using [!DNL PuttyGen] to generate the keys.

## Resolution

First of all make sure all the pre-requisites are met:

1. **Verify with your SFTP provider the type of key it is supported**
   1. SSH-1 vs SSH-2
   1. Generated key size in bits: default is 2048

1. **Authorise AEP IPs on your SFTP Provider**
   1. Verify the data center where your AEP instance is deployed
      1. VA7: North America
      1. NLD2: Europe
      1. AUS5: Australia

   1. AEP IPs can be found in the SFTP Connector documentation: SeeÂ [https://experienceleague.adobe.com/docs/experience-platform/sources/connectors/cloud-storage/sftp.html](https://experienceleague.adobe.com/docs/experience-platform/sources/connectors/cloud-storage/sftp.html)

1. **AEP supports an RSA or DSA type [!DNL OpenSSH] key.**

   The SFTP connector supports an RSA or DSA type [!DNL OpenSSH] key. Ensure that your key file content starts with `"-----BEGIN RSA/DSA PRIVATE KEY-----"` and ends with `"-----END RSA/DSA PRIVATE KEY-----"`. If the private key file is a PPK-format file, use the PuTTY tool to convert from PPK to [!DNL OpenSSH] format.

   Instructions on how to generate the keys can be found here:

   [https://experienceleague.adobe.com/docs/experience-platform/sources/connectors/cloud-storage/sftp.html?lang=en#set-up-a-base64-encoded-openssh-private-key-for-sftp](https://experienceleague.adobe.com/docs/experience-platform/sources/connectors/cloud-storage/sftp.html?lang=en#set-up-a-base64-encoded-openssh-private-key-for-sftp)

1. **AEP requires a [!DNL OpenSSH] base64 encoded private key**

If you are still having problems, there may be an issue with the way the private key generated by [!DNL PuttyGen] is transformed.

Note that AEP requires the private key to be of [!DNL OpenSSL] format encoded base64. Once the keys are generated, you must save the private key using the ([!DNL PuttyGen]) menu 'conversions'  'Export [!DNL OpenSSH] Key', this will generate the private key in [!DNL OpenSSH] format and <u>ONLY THEN</u> you can encode it in base64

AEP requires the private key to be base64 encoded, you can either:

- Use tool such as [https://www.base64encode.org/](https://www.base64encode.org/)

  or

- Use [!DNL OpenSSL] by issuing the following command:

  ```
  openSSL base64 -in yourPrivateKeyFile -out yourPrivateKeyFileBase64
  ```
