---
title: SFTP source connector fail connect with provided SSH key credentials
description: Description
solution: Experience Platform
product: Experience Platform
applies-to: Experience Platform
keywords: KCS, AEP, source, SFTP, SSH, base64, openSSH, Adobe Experience Platform, troubleshooting, connector, fail connect, SSH key credentials
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Zita Rodricks
article-created-date: 5/30/2023 1:38:08 PM
article-published-by: Zita Rodricks
article-published-date: 5/30/2023 1:40:05 PM
version-number: 5
article-number: KA-19495
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=29f60831-effe-ed11-8f6e-6045bd0063aa
exl-id: e10d5918-3942-4f84-aceb-68b4e3364f39
---
# SFTP source connector fail connect with provided SSH key credentials

## Description {#description}


<b>Environment</b>
 Adobe Experience Platform

<b>Issue</b>

You want to set up a SFTP source connector within AEP.

The SFTP source connector fails connecting with the provided authentication credentials using SSH key. You may be using PuttyGen to generate the keys.


## Resolution {#resolution}


<b>Solution</b>
First of all, make sure all the prerequisites are met:

<b>1. Verify with your SFTP provider the type of key it is supported</b>
a. SSH-1 vs SSH-2
b. Generated key size in bits: default is 2048

<b>2. Authorise AEP IPs on your SFTP Provider</b>
a. Verify the data center where your AEP instance is deployed.
i. VA7: North America
ii. NLD2: Europe
iii. AUS5: Australia
b. AEP IPs can be found in the [SFTP Connector documentation](https://experienceleague.adobe.com/docs/experience-platform/sources/connectors/cloud-storage/sftp.html).



<b>3.  AEP supports an RSA or DSA type OpenSSH key.</b>

The SFTP connector supports an RSA or DSA type OpenSSH key. Ensure that your key file content starts with `"-----BEGIN `[` RSA/DSA`]`  PRIVATE KEY-----"` and ends with `"-----END `[` RSA/DSA`]`  PRIVATE KEY-----"`. If the private key file is a PPK-format file, use the PuTTY tool to convert from PPK to OpenSSH format.

Instructions on how to generate the keys can be found in [SFTP connector: Set up a Base64-encoded OpenSSH private key for SFTP](https://experienceleague.adobe.com/docs/experience-platform/sources/connectors/cloud-storage/sftp.html#set-up-a-base64-encoded-openssh-private-key-for-sftp).



<b>4. AEP requires a OpenSSH base64 encoded private key </b>



If you are still having problems, there may be an issue with the way the private key generated by PuttyGen is transformed.

Note that AEP requires the private key to be of OpenSSL format-encoded base64.

Once the keys are generated, you must save the private key using the (PuttyGen) menu (<b>conversions</b> » <b>Export OpenSSH Key</b>), this will generate the private key in OpenSSH format and <u>ONLY THEN</u> you can encode it in base64.

Since AEP requires the private key to be base64 encoded, you can either:

• Use the <b>Encode to Base64 format</b> tool at [https://www.base64encode.org/](https://www.base64encode.org/).

or

• Use OpenSSL by issuing the following command:

*openSSL base64 -in yourPrivateKeyFile -out
yourPrivateKeyFileBase64*
